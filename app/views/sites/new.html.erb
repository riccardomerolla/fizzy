<% @page_title = "New Site" %>

<div class="panel panel--centered">
  <%= form_with model: @site, class: "flex flex-column gap" do |form| %>
    <h1 class="txt-x-large margin-none font-weight-black"><%= @page_title %></h1>

    <% if @site.errors.any? %>
      <div class="flash flash--error">
        <ul>
          <% @site.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="flex flex-column gap-small">
      <%= form.label :name, "Site Name" %>
      <%= form.text_field :name, required: true, class: "input full-width", autofocus: true, placeholder: "e.g., Main Hospital CSSD" %>
    </div>

    <div class="flex flex-column gap-small">
      <%= form.label :code, "Site Code" %>
      <%= form.text_field :code, required: true, class: "input full-width", placeholder: "e.g., MH01" %>
      <small class="txt-small">Short identifier used in CSV imports</small>
    </div>

    <div class="flex flex-column gap-small">
      <%= form.label :timezone, "Timezone" %>
      <%= form.select :timezone, ActiveSupport::TimeZone.all.map { |tz| [tz.name, tz.name] }, {}, class: "input full-width" %>
    </div>

    <div class="flex gap margin-block-start">
      <%= form.submit "Create Site", class: "btn btn--primary" %>
      <%= link_to "Cancel", sites_path, class: "btn" %>
    </div>
  <% end %>
</div>
